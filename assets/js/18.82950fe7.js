(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{502:function(t,s,a){"use strict";a.r(s);var r=a(4),e=Object(r.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("目前，HTTPS 已经成为建站必不可少的技术，而建立 HTTPS 网站 SSL 证书必不可少。高端的 SSL 证书一般是收费的，目前腾讯云有一年期免费 SSL 证书可以申请。这篇文章就是介绍如何申请腾讯云免费 SSL 证书的。")]),t._v(" "),a("h2",{attrs:{id:"概念介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概念介绍"}},[t._v("#")]),t._v(" 概念介绍")]),t._v(" "),a("h3",{attrs:{id:"https"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#https"}},[t._v("#")]),t._v(" HTTPS")]),t._v(" "),a("p",[t._v("HTTPS（Hypertext Transfer Protocol Secure：超文本传输安全协议）是一种透过计算机网络进行安全通信的传输协议。HTTPS 经由 HTTP 进行通信，但利用 SSL/TLS 来加密数据包。HTTPS 开发的主要目的，是提供对网站服务器的身份认证，保护交换数据的隐私与完整性。")]),t._v(" "),a("h3",{attrs:{id:"ssl-证书"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssl-证书"}},[t._v("#")]),t._v(" SSL 证书")]),t._v(" "),a("p",[t._v("SSL（Secure Sockets Layer：安全套接字层）证书是由受信任的数字证书颁发机构 CA，在验证服务器身份后颁发，且具有服务器身份验证和数据传输加密功能的文件。")]),t._v(" "),a("h3",{attrs:{id:"ca"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ca"}},[t._v("#")]),t._v(" CA")]),t._v(" "),a("p",[t._v("CA（Certificate Authority：数字证书认证机构）是负责发放和管理数字证书的权威机构，并作为电子商务交易中受信任的第三方，承担公钥体系中公钥的合法性检验的责任。CA 机构是独立的，没有相互关系，这些机构都是在webtrust认证审核下成立的。签发主流机构：Symantec、Comodo、GeoTrust、DigiCert、GlobalSign 等。机构之间的区别主要有：机构品牌、证书加密方式、保险额度、服务与质量、浏览器支持率等")]),t._v(" "),a("h2",{attrs:{id:"申请步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#申请步骤"}},[t._v("#")]),t._v(" 申请步骤")]),t._v(" "),a("h4",{attrs:{id:"_1-登录腾讯云，在云产品中搜索-ssl-证书，或者直接访问-ssl-申请页面地址，https-console-cloud-tencent-com-ssl-apply"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-登录腾讯云，在云产品中搜索-ssl-证书，或者直接访问-ssl-申请页面地址，https-console-cloud-tencent-com-ssl-apply"}},[t._v("#")]),t._v(" 1. 登录腾讯云，在云产品中搜索 SSL 证书，或者直接访问 SSL 申请页面地址，"),a("a",{attrs:{href:"https://console.cloud.tencent.com/ssl/apply",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://console.cloud.tencent.com/ssl/apply"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("img",{attrs:{src:"/posts/2020-06-10-tencent-free-ssl/01.png",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"_2-填写域名地址和邮箱，点击下一步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-填写域名地址和邮箱，点击下一步"}},[t._v("#")]),t._v(" 2. 填写域名地址和邮箱，点击下一步")]),t._v(" "),a("p",[a("img",{attrs:{src:"/posts/2020-06-10-tencent-free-ssl/02.png",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"_3-选择验证方式，手动-dns-验证在域名解析力加一条解析记录即可，比较简单，这里选第二种方式：文件验证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-选择验证方式，手动-dns-验证在域名解析力加一条解析记录即可，比较简单，这里选第二种方式：文件验证"}},[t._v("#")]),t._v(" 3. 选择验证方式，手动 DNS 验证在域名解析力加一条解析记录即可，比较简单，这里选第二种方式：文件验证")]),t._v(" "),a("p",[a("img",{attrs:{src:"/posts/2020-06-10-tencent-free-ssl/03.png",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"_4-提交申请后在证书管理页面可以看到一个待验证的证书记录，点击详情可查看验证文件内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-提交申请后在证书管理页面可以看到一个待验证的证书记录，点击详情可查看验证文件内容"}},[t._v("#")]),t._v(" 4. 提交申请后在证书管理页面可以看到一个待验证的证书记录，点击详情可查看验证文件内容")]),t._v(" "),a("p",[a("img",{attrs:{src:"/posts/2020-06-10-tencent-free-ssl/04.png",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"_5-文件路径和文件内容如下图："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-文件路径和文件内容如下图："}},[t._v("#")]),t._v(" 5. 文件路径和文件内容如下图：")]),t._v(" "),a("p",[a("img",{attrs:{src:"/posts/2020-06-10-tencent-free-ssl/05.png",alt:""}})]),t._v(" "),a("p",[t._v("到这里腾讯云操作就结束了，剩下的就是在服务器的 NGINX 上配置文件访问了")]),t._v(" "),a("h2",{attrs:{id:"配置验证文件访问地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置验证文件访问地址"}},[t._v("#")]),t._v(" 配置验证文件访问地址")]),t._v(" "),a("p",[t._v("这一步主要是在服务创建一个验证文件并将验证文件通过 NGINX 暴露出来，让 CA 颁发机构可以通过特定的路径访问到，以证明你拥有该域名的所有权")]),t._v(" "),a("h4",{attrs:{id:"_6-修改-nginx-配置文件，在域名对应的-server-配置里增加一个-location-。location的路径一定要跟腾讯云给出的验证文件访问路径一致。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-修改-nginx-配置文件，在域名对应的-server-配置里增加一个-location-。location的路径一定要跟腾讯云给出的验证文件访问路径一致。"}},[t._v("#")]),t._v(" 6. 修改 NGINX 配置文件，在域名对应的 server 配置里增加一个 location 。location的路径一定要跟腾讯云给出的验证文件访问路径一致。")]),t._v(" "),a("p",[a("img",{attrs:{src:"/posts/2020-06-10-tencent-free-ssl/06.png",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"_7-创建验证文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-创建验证文件"}},[t._v("#")]),t._v(" 7. 创建验证文件")]),t._v(" "),a("p",[t._v("我为了省事，上一步中把 location 的 root 路径配置成了 logs/ 所以这里就直接在 NGINX 安装目录中 logs/ 文件夹下创建验证文件的文件夹，文件夹的名字是 /.well-known/pki-validation/，一共两级。验证文件的名字是：authfile.txt。文件内容从第 5 步的页面中复制下来粘贴进去即可。")]),t._v(" "),a("h4",{attrs:{id:"_8-重启-nginx。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-重启-nginx。"}},[t._v("#")]),t._v(" 8. 重启 NGINX。")]),t._v(" "),a("h4",{attrs:{id:"_9-通过浏览器访问验证文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-通过浏览器访问验证文件"}},[t._v("#")]),t._v(" 9. 通过浏览器访问验证文件")]),t._v(" "),a("p",[a("img",{attrs:{src:"/posts/2020-06-10-tencent-free-ssl/07.png",alt:""}})]),t._v(" "),a("h2",{attrs:{id:"使用步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用步骤"}},[t._v("#")]),t._v(" 使用步骤")]),t._v(" "),a("h4",{attrs:{id:"_10-下载证书"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-下载证书"}},[t._v("#")]),t._v(" 10. 下载证书")]),t._v(" "),a("p",[t._v("验证通过以后可以在腾讯云 SSL 管理界面下载刚申请的证书。")]),t._v(" "),a("p",[t._v("将下载下来的压缩包中 Nginx 文件夹下的两个文件上传到服务器")]),t._v(" "),a("p",[a("img",{attrs:{src:"/posts/2020-06-10-tencent-free-ssl/08.png",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"_11-修改-nginx-配置，在对应域名的-server-配置项中加入以下两条配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-修改-nginx-配置，在对应域名的-server-配置项中加入以下两条配置"}},[t._v("#")]),t._v(" 11. 修改 NGINX 配置，在对应域名的 server 配置项中加入以下两条配置")]),t._v(" "),a("blockquote",[a("p",[t._v("ssl_certificate      #证书文件中 crt 文件地址;")])]),t._v(" "),a("blockquote",[a("p",[t._v("ssl_certificate_key  #证书文件中 key 文件地址;")])]),t._v(" "),a("h4",{attrs:{id:"_12-重启-nginx-，通过浏览器访问对应的-https-域名，验证配置结果。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-重启-nginx-，通过浏览器访问对应的-https-域名，验证配置结果。"}},[t._v("#")]),t._v(" 12. 重启 NGINX ，通过浏览器访问对应的 HTTPS 域名，验证配置结果。")])])}),[],!1,null,null,null);s.default=e.exports}}]);